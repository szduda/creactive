{"version":3,"sources":["StateManager/useActions.js","StateManager/definitions/gallery.store.ts","StateManager/definitions/drummery.store.ts","StateManager/store.config.js","StateManager/Store.jsx","firebase.js","helpers/useTimeout.ts","helpers/storageScope.ts","DataService.ts","Features/MidiSounds/MidiSounds.tsx","Features/Drummery/connectDrummery.tsx","assets/icons/hamburger.svg","assets/icons/search.svg","assets/icons/add.svg","assets/icons/close.svg","assets/icons/exclamation.svg","assets/icons/unfold.svg","assets/icons/drum.svg","assets/icons/arrow.svg","Features/theme.tsx","Features/Drummery/Drummery.tsx","Features/Drummery/Tags.tsx","Features/Drummery/ListItem.tsx","Features/Drummery/PlayerControls.tsx","Features/Drummery/Track.tsx","Features/Drummery/useGroovyPlayer.ts","Features/Drummery/GroovyPlayer.tsx","Features/Drummery/SnippetDetails.tsx","Features/Header/connectHeader.tsx","Features/Header/Header.tsx","Router.tsx","App.tsx","index.js"],"names":["useActions","dispatch","actionList","actions","action","args","Object","keys","galleryReducer","state","payload","type","items","filters","previewId","galleryActions","setItems","setFilter","setPreviewId","drummeryReducer","searchTerm","drummeryActions","setSearchTerm","initialState","gallery","tag","drummery","reducer","useMyActions","StateContext","createContext","useStore","useContext","getters","StateProvider","children","Provider","value","useReducer","StateManager","props","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","Firestore","firestore","useTimeout","database","delay","useState","handle","setHandle","useEffect","clearTimeout","_setTimeout","func","_delay","setTimeout","storageScope","key","defaultValue","saved","localStorage","getItem","JSON","parse","getStorageValue","setItem","stringify","error","console","dbPhotos","collection","dbDrums","DataService","fetchPhotos","a","get","then","snapshot","forEach","doc","data","title","description","url","vertical","push","id","fetchDrumSnippets","snippets","setSnippets","fetchedAt","setFetchedAt","Date","now","tags","tempo","createdAt","patterns","seconds","length","fetchPatterns","snippet","index","findIndex","s","promises","Promise","all","map","p","snapshots","snap","MidiSoundsContext","MidiSoundsContextProvider","midiSounds","useRef","current","stopPlayLoop","css","ref","appElementName","drums","connectDrummery","useDrummeryContext","loading","setLoading","filteredItems","setFilteredItems","featuredItem","sort","b","previewItem","find","cancelled","asyncEffect","fetched","term","toLowerCase","filter","includes","newItems","i","indexOf","byTitle","meta","o1","o2","assign","target","arguments","source","prototype","hasOwnProperty","call","apply","this","excluded","sourceKeys","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref","svgRef","createElement","height","viewBox","width","d","fill","forwardRef","colors","red","orange","orangeDark","orangeLight","yellow","yellowDark","yellowLight","green","greenDark","greenLight","greenLighter","white","black","grayLighter","grayLight","gray","grayDark","darken","color","lighten","Icons","rest","right","up","down","Number","Flex","align","valign","wide","wrap","grow","Theme","Checkbox","checked","onClick","ariaLabel","className","disabled","ninja","aria-label","role","Button","filled","H3","Wrapper","ListWrapper","Drummery","placeholders","Array","_","featured","item","selected","onClose","onTagClick","Tags","dimmed","Title","Placeholder","ListItem","PlayerControls","playLoop","stopLoop","metronome","setMetronome","setTempo","maxLength","onChange","e","isNaN","Track","pattern","muted","setMuted","Pattern","barSize","bars","match","RegExp","join","useGroovyPlayer","tracks","initialMetronome","initialTempo","playing","setPlaying","loopLength","byPatternLength","beatSize","instrument","sound","t","prolongedPattern","repeat","result","loops","beats","fillBeat","setEchoLevel","startPlayLoop","t1","t2","notes","drum","GroovyPlayer","SnippetDetails","Patterns","Description","BackButton","useHeaderContext","timeout","cachedTerm","cacheTerm","search","reset","Separator","Nav","to","Search","placeholder","Header","Router","basename","path","component","ReactDOM","render","StrictMode","App","document","getElementById"],"mappings":"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","file":"static/js/main.fd714b06.chunk.js","sourcesContent":["export const useActions = (dispatch, actionList) => {\r\n  let actions = {}\r\n  for (const action of Object.keys(actionList)) {\r\n    actions = {\r\n      ...actions,\r\n      [action]: args => dispatch(actionList[action](args))\r\n    }\r\n  }\r\n  return actions\r\n}","import { TPhoto } from './TPhoto'\r\n\r\nexport type GalleryState = {\r\n  items: TPhoto[]\r\n  previewId: string | null\r\n  filters: {\r\n    tag?: string | null\r\n  }\r\n}\r\n\r\nexport const defaultState: GalleryState = {\r\n  items: [],\r\n  previewId: null,\r\n  filters: {\r\n    tag: null,\r\n  },\r\n}\r\n\r\nexport const galleryReducer = (state: GalleryState, action: GalleryAction) => {\r\n  const { payload, type } = action\r\n\r\n  switch (type) {\r\n    case 'setItems':\r\n      return {\r\n        ...state,\r\n        items: payload,\r\n      }\r\n\r\n    case 'setFilters':\r\n      return {\r\n        ...state,\r\n        filters: payload,\r\n      }\r\n\r\n    case 'setPreviewId':\r\n      return {\r\n        ...state,\r\n        previewId: payload,\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport type GalleryAction = ReturnType<\r\n  typeof galleryActions[keyof typeof galleryActions]\r\n>\r\n\r\nexport const galleryActions = {\r\n  setItems: (payload: GalleryState['items']) => ({\r\n    type: 'setItems',\r\n    payload,\r\n  }),\r\n  setFilter: (payload: GalleryState['filters']) => ({\r\n    type: 'setFilters',\r\n    payload,\r\n  }),\r\n  setPreviewId: (payload: GalleryState['previewId']) => ({\r\n    type: 'setPreviewId',\r\n    payload,\r\n  }),\r\n}\r\n","import { TDrumSnippet } from './TDrumSnippet'\r\n\r\nexport type DrummeryState = {\r\n  items: TDrumSnippet[]\r\n  previewId: string | null\r\n  searchTerm: string\r\n}\r\n\r\nexport const defaultState: DrummeryState = {\r\n  items: [],\r\n  previewId: null,\r\n  searchTerm: '',\r\n}\r\n\r\nexport const drummeryReducer = (\r\n  state: DrummeryState,\r\n  action: DrummeryAction\r\n) => {\r\n  const { payload, type } = action\r\n\r\n  switch (type) {\r\n    case 'setItems':\r\n      return {\r\n        ...state,\r\n        items: payload,\r\n      }\r\n\r\n    case 'setSearchTerm':\r\n      return {\r\n        ...state,\r\n        searchTerm: payload,\r\n      }\r\n\r\n    case 'setPreviewId':\r\n      return {\r\n        ...state,\r\n        previewId: payload,\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport type DrummeryAction = ReturnType<\r\n  typeof drummeryActions[keyof typeof drummeryActions]\r\n>\r\n\r\nexport const drummeryActions = {\r\n  setItems: (payload: DrummeryState['items']) => ({\r\n    type: 'setItems',\r\n    payload,\r\n  }),\r\n  setSearchTerm: (payload: DrummeryState['searchTerm']) => ({\r\n    type: 'setSearchTerm',\r\n    payload,\r\n  }),\r\n  setPreviewId: (payload: DrummeryState['previewId']) => ({\r\n    type: 'setPreviewId',\r\n    payload,\r\n  }),\r\n}\r\n","import { useActions } from \"./useActions\";\r\nimport {\r\n  defaultState as galleryDefault,\r\n  galleryReducer,\r\n  galleryActions,\r\n} from './definitions/gallery.store'\r\nimport {\r\n  defaultState as drummeryDefault,\r\n  drummeryReducer,\r\n  drummeryActions,\r\n} from './definitions/drummery.store'\r\n\r\n// import {\r\n//   defaultState as globalDefault,\r\n//   globalReducer,\r\n//   globalActions,\r\n// } from './definitions/global.store'\r\n\r\nexport const initialState = {\r\n  gallery: galleryDefault,\r\n  drummery: drummeryDefault,\r\n  // global: globalDefault,\r\n}\r\n\r\nexport const reducer = (state, action) => {\r\n  return {\r\n    gallery: galleryReducer(state.gallery, action),\r\n    drummery: drummeryReducer(state.drummery, action),\r\n    // global: globalReducer(state.global, action),\r\n  }\r\n}\r\n\r\nexport const useMyGetters = state => ({\r\n})\r\n\r\nexport const useMyActions = dispatch => ({\r\n  gallery: useActions(dispatch, galleryActions),\r\n  drummery: useActions(dispatch, drummeryActions),\r\n  // global: useActions(dispatch, globalActions),\r\n})\r\n","import React, { createContext, useContext, useReducer } from 'react';\r\nimport { initialState, reducer, useMyGetters, useMyActions } from './store.config'\r\n\r\nexport const StateContext = createContext();\r\nexport const useStore = () => {\r\n  const [state, dispatch] = useContext(StateContext)\r\n  return {\r\n    state,\r\n    actions: useMyActions(dispatch),\r\n    getters: useMyGetters(state)\r\n  }\r\n}\r\n\r\nexport const StateProvider = ({ reducer, initialState, children }) => {\r\n  return (\r\n    <StateContext.Provider value={useReducer(reducer, initialState)}>\r\n      {children}\r\n    </StateContext.Provider>\r\n  );\r\n}\r\n\r\nexport const StateManager = props => (\r\n  <StateProvider  {...{ initialState, reducer, ...props }} />\r\n)\r\n\r\nexport default StateManager","import firebase from \"firebase/app\"\r\nimport \"firebase/database\"\r\nimport \"firebase/firestore\"\r\n\r\nconst config = {\r\n  apiKey: \"AIzaSyAyx-df9Cu8urdFWuGQ6MvpHTQ0TP4DQMA\",\r\n  authDomain: \"creactive-83d83.firebaseapp.com\",\r\n  projectId: \"creactive-83d83\",\r\n  storageBucket: \"creactive-83d83.appspot.com\",\r\n  messagingSenderId: \"830095493844\",\r\n  appId: \"1:830095493844:web:7bdcbb60815ea28028c941\",\r\n  measurementId: \"G-V83CR1NW09\"\r\n}\r\n\r\nfirebase.initializeApp(config)\r\n\r\nexport const Firestore = firebase.firestore()\r\n\r\nexport default firebase.database()","import { useEffect, useState } from 'react'\r\n\r\nexport const useTimeout = (delay: number = 0) => {\r\n  const [handle, setHandle] = useState()\r\n\r\n  // release memory\r\n  useEffect(() => () => handle && clearTimeout(handle), [handle])\r\n\r\n  // in absence of the second argument use initial delay\r\n  const _setTimeout = (func: () => void, _delay?: number) =>\r\n    setHandle(setTimeout(func, typeof _delay === 'undefined' ? delay : _delay))\r\n\r\n  return [handle, _setTimeout]\r\n}\r\n","export const getStorageValue = (key: string) => {\r\n  // getting stored value\r\n  const saved = localStorage.getItem(key)\r\n  if (!saved) return null\r\n  return JSON.parse(saved)\r\n}\r\n\r\nexport const storageScope = <T>(key: string, defaultValue: T) => {\r\n  const _value = getStorageValue(key) || defaultValue\r\n  const setValue = value => {\r\n    try {\r\n      localStorage.setItem(key, JSON.stringify(value))\r\n    } catch (error) {\r\n      console.error('localStorage error:', error)\r\n    }\r\n  }\r\n\r\n  return [_value, setValue] as [T, (arg: T) => void]\r\n}\r\n","import { Firestore } from './firebase'\r\nimport { TPhoto, TDrumSnippet, TPattern } from './StateManager'\r\nimport { storageScope } from './helpers'\r\n\r\nconst dbPhotos = Firestore.collection('photos')\r\nconst dbDrums = Firestore.collection('drums')\r\n\r\nexport const DataService = {\r\n  fetchPhotos: async () => {\r\n    const items: TPhoto[] = []\r\n    await dbPhotos.get().then(snapshot => {\r\n      snapshot.forEach(doc => {\r\n        const { title, description, url, vertical } = doc.data()\r\n        items.push({ id: doc.id, title, description, url, vertical })\r\n      })\r\n    })\r\n    return items\r\n  },\r\n  fetchDrumSnippets: async (force: boolean = false) => {\r\n    const items: TDrumSnippet[] = []\r\n    const [snippets, setSnippets] = storageScope<TDrumSnippet[]>('drums', [])\r\n    const [fetchedAt, setFetchedAt] = storageScope<number>('drumsFetchedAt', 0)\r\n\r\n    if (fetchedAt < Date.now() - 24 * 360 * 1000) {\r\n      try {\r\n        await dbDrums.get().then(snapshot => {\r\n          snapshot.forEach(async doc => {\r\n            const { title, description, tags, tempo, createdAt } = doc.data()\r\n            items.push({\r\n              id: doc.id,\r\n              title,\r\n              description,\r\n              tags,\r\n              patterns: [],\r\n              tempo,\r\n              createdAt: createdAt?.seconds ?? 0,\r\n            })\r\n          })\r\n        })\r\n        setSnippets(items)\r\n        setFetchedAt(Date.now())\r\n      } catch (error) {\r\n        console.error('Fetch items error: ', error)\r\n      }\r\n    }\r\n\r\n    return items.length ? items : snippets\r\n  },\r\n  fetchPatterns: async (snippet: TDrumSnippet) => {\r\n    const [snippets, setSnippets] = storageScope<TDrumSnippet[]>('drums', [])\r\n    const index = snippets.findIndex(s => s.id === snippet.id)\r\n\r\n    try {\r\n      const promises =\r\n        (await dbDrums.doc(snippet.id).get()).data()?.patterns ?? []\r\n      if (promises.length === 0) return []\r\n\r\n      const snapshots = await Promise.all(promises.map((p: any) => p.get()))\r\n      snippets[index].patterns = snapshots.map(\r\n        snap => (snap as any).data() as TPattern\r\n      )\r\n\r\n      setSnippets([...snippets])\r\n    } catch (error) {\r\n      console.error('Fetch patterns error: ', error)\r\n    }\r\n\r\n    return snippets[index].patterns\r\n  },\r\n}\r\n\r\nexport default DataService\r\n","/** @jsx jsx */\r\nimport { createContext, useContext, useRef, useEffect, FC } from 'react'\r\nimport { jsx, css } from '@emotion/react'\r\n\r\nimport MIDISounds from 'midi-sounds-react'\r\n\r\nexport const bell = 227\r\nexport const sangbanClosed = 3311\r\nexport const sangban = 3310\r\nexport const shaker = 173\r\nexport const dundunbaOpen = 3312\r\nexport const dundunbaClosed = 3313\r\nexport const kenkeniOpen = 3314\r\nexport const kenkeniClosed = 3315\r\nexport const kenkeniOpen2 = 3316\r\nexport const kenkeniClosed2 = 3317\r\n\r\nconst MidiSoundsContext = createContext(null)\r\n\r\nexport const useMidiSounds = () => useContext(MidiSoundsContext)\r\n\r\nexport const MidiSoundsContextProvider: FC = ({ children }) => {\r\n  const midiSounds = useRef(null)\r\n\r\n  useEffect(() => () => midiSounds.current?.stopPlayLoop, [])\r\n\r\n  return (\r\n    <MidiSoundsContext.Provider value={midiSounds}>\r\n      {children}\r\n      <div\r\n        css={css`\r\n          text-align: right;\r\n          margin: 32px 16px 0;\r\n          pointer-events: none;\r\n\r\n          @media (min-width: 768px) {\r\n            position: fixed;\r\n            bottom: 0;\r\n            right: 16px;\r\n            margin: 0;\r\n          }\r\n        `}\r\n      >\r\n        <MIDISounds\r\n          ref={midiSounds}\r\n          appElementName=\"root\"\r\n          drums={[bell, sangbanClosed, sangban, shaker]}\r\n        />\r\n      </div>\r\n    </MidiSoundsContext.Provider>\r\n  )\r\n}\r\n","import React, { FC, useState, useEffect } from 'react'\r\n\r\nimport { MidiSoundsContextProvider } from '../MidiSounds/MidiSounds'\r\n\r\nimport { useStore } from '../../StateManager/Store'\r\nimport { Drummery, TDrummery } from '.'\r\n\r\nconst useDrummeryContext = DataService => {\r\n  const {\r\n    state: {\r\n      drummery: { items, previewId, searchTerm },\r\n    },\r\n    actions: {\r\n      drummery: { setItems, setPreviewId, setSearchTerm },\r\n    },\r\n  } = useStore()\r\n\r\n  const [loading, setLoading] = useState(true)\r\n  const [filteredItems, setFilteredItems] = useState(items)\r\n\r\n  const featuredItem = items?.sort((a, b) => b.createdAt - a.createdAt)[0]\r\n  const previewItem = items.find(({ id }) => id === previewId)\r\n\r\n  // eslint-disable-next-line\r\n  useEffect(() => {\r\n    let cancelled = false\r\n    const asyncEffect = async () => {\r\n      try {\r\n        const fetched = await DataService.fetchDrumSnippets()\r\n\r\n        if (!cancelled) {\r\n          setItems(fetched)\r\n          setFilteredItems(fetched)\r\n          setLoading(false)\r\n        }\r\n      } catch (err) {\r\n        console.error('Failed to fetch data.\\n', err)\r\n        if (!cancelled) {\r\n          setLoading(false)\r\n        }\r\n      }\r\n    }\r\n    setLoading(true)\r\n    setPreviewId(null)\r\n    asyncEffect()\r\n    return () => {\r\n      cancelled = true\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (!searchTerm) setFilteredItems(items)\r\n\r\n    const term = searchTerm.toLowerCase()\r\n    setFilteredItems([\r\n      ...items.filter(\r\n        ({ tags, title }) =>\r\n          tags?.includes(term) || title?.toLowerCase().includes(term)\r\n      ),\r\n    ])\r\n  }, [searchTerm, items])\r\n\r\n  useEffect(() => {\r\n    let cancelled = false\r\n    const asyncEffect = async () => {\r\n      if (previewId) {\r\n        const newItems = [...items]\r\n        const i = newItems.map(i => i.id).indexOf(previewId)\r\n\r\n        // already fetched\r\n        if (newItems[i].patterns.length) return\r\n\r\n        const patterns = await DataService.fetchPatterns(newItems[i])\r\n        if (cancelled) return\r\n\r\n        newItems[i].patterns = patterns\r\n        setItems(newItems)\r\n      }\r\n    }\r\n    asyncEffect()\r\n    return () => {\r\n      cancelled = true\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [previewId])\r\n\r\n  return {\r\n    items: filteredItems.sort(byTitle),\r\n    featuredItem,\r\n    previewItem,\r\n    setPreviewId,\r\n    setSearchTerm,\r\n    meta: { loading },\r\n  }\r\n}\r\n\r\nexport const connectDrummery: FC<TDrummery> = ({ DataService }) => () => (\r\n  <MidiSoundsContextProvider>\r\n    <Drummery\r\n      {...{ useDrummeryContext: () => useDrummeryContext(DataService) }}\r\n    />\r\n  </MidiSoundsContextProvider>\r\n)\r\n\r\nconst byTitle = (o1, o2) =>\r\n  o1.title.toLowerCase() === o2.title.toLowerCase()\r\n    ? 0\r\n    : o1.title.toLowerCase() < o2.title.toLowerCase()\r\n    ? -1\r\n    : 1\r\n","var _path, _path2;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgHamburger = function SvgHamburger(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"\n  })));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgHamburger, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/hamburger.55f68494.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgSearch = function SvgSearch(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n  })));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSearch, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/search.db5d8122.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgAdd = function SvgAdd(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n  })));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgAdd, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/add.0e3e08bc.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgClose = function SvgClose(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n  })));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgClose, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/close.b840e171.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgExclamation = function SvgExclamation(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"\n  })));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgExclamation, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/exclamation.62d23dd4.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgUnfold = function SvgUnfold(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 5.83L15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z\"\n  })));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgUnfold, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/unfold.52bd8411.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgDrum = function SvgDrum(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 64,\n    viewBox: \"0 0 64 64\",\n    width: 64,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28.111,15.022l-4.186,26.37,22.04,1.139a8.326,8.326,0,0,0,8.652-7.01l.859-5.411a8.327,8.327,0,0,0-6.056-9.345Z\",\n    fill: \"#88898e\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28.111,15.022l-4.186,26.37,22.04,1.139a8.326,8.326,0,0,0,8.652-7.01l.859-5.411a8.327,8.327,0,0,0-6.056-9.345Z\",\n    fill: \"none\",\n    stroke: \"#231f20\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28.059,15.35,23.977,41.063a10.785,10.785,0,0,0,1.069.387l5.339.275c5.015-.986,8.194-5.545,9.119-11.377S38.82,19.2,34.357,16.7L29.2,15.314A11.02,11.02,0,0,0,28.059,15.35Z\",\n    fill: \"#8a5d3b\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28.059,15.35,23.977,41.063a10.785,10.785,0,0,0,1.069.387l5.339.275c5.015-.986,8.194-5.545,9.119-11.377S38.82,19.2,34.357,16.7L29.2,15.314A11.02,11.02,0,0,0,28.059,15.35Z\",\n    fill: \"none\",\n    stroke: \"#231f20\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2\n  }), /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: 26.018,\n    cy: 28.207,\n    fill: \"#efdcc5\",\n    rx: 13.35,\n    ry: 9.728,\n    transform: \"translate(-5.92 49.48) rotate(-80.979)\"\n  }), /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: 23.846,\n    cy: 27.862,\n    fill: \"#fdf0df\",\n    rx: 12.994,\n    ry: 7.529,\n    transform: \"translate(-7.411 47.044) rotate(-80.979)\"\n  }), /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: 26.018,\n    cy: 28.207,\n    fill: \"none\",\n    rx: 13.35,\n    ry: 9.728,\n    stroke: \"#231f20\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    transform: \"translate(-5.92 49.48) rotate(-80.979)\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    fill: \"none\",\n    stroke: \"#231f20\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    x1: 39.294,\n    x2: 55.394,\n    y1: 23.412,\n    y2: 27.053\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    fill: \"none\",\n    stroke: \"#231f20\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    x1: 53.577,\n    x2: 37.141,\n    y1: 38.498,\n    y2: 36.974\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    fill: \"none\",\n    stroke: \"#231f20\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    x1: 39.504,\n    x2: 55.047,\n    y1: 30.348,\n    y2: 32.816\n  })), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M30.4,33.937a3.106,3.106,0,0,0-1.517-4.108,2.908,2.908,0,0,0-3.162.835,2.57,2.57,0,0,1,.864.161,3.109,3.109,0,0,1,1.517,4.109,3.614,3.614,0,0,1-.736,1.16A3.241,3.241,0,0,0,30.4,33.937Z\",\n    fill: \"#966448\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M26.588,30.825a2.57,2.57,0,0,0-.864-.161,3.585,3.585,0,0,0-.736,1.161,3.108,3.108,0,0,0,1.517,4.108,2.57,2.57,0,0,0,.864.161,3.614,3.614,0,0,0,.736-1.16A3.109,3.109,0,0,0,26.588,30.825Z\",\n    fill: \"#aa7c65\"\n  })), /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: 27.696,\n    cy: 32.881,\n    fill: \"none\",\n    rx: 3.276,\n    ry: 2.906,\n    stroke: \"#231f20\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    transform: \"translate(-13.002 46.733) rotate(-68.69)\"\n  })), /*#__PURE__*/React.createElement(\"line\", {\n    fill: \"none\",\n    stroke: \"#231f20\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    x1: 26.505,\n    x2: 21.381,\n    y1: 35.933,\n    y2: 49.067\n  })), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24.4,28.661a3.107,3.107,0,0,0,1.065-4.248,2.91,2.91,0,0,0-3.083-1.094,2.561,2.561,0,0,1,.622.62,3.108,3.108,0,0,1-1.064,4.248,3.6,3.6,0,0,1-1.263.544A3.242,3.242,0,0,0,24.4,28.661Z\",\n    fill: \"#966448\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.008,23.939a2.561,2.561,0,0,0-.622-.62,3.59,3.59,0,0,0-1.262.543,3.107,3.107,0,0,0-1.065,4.248,2.583,2.583,0,0,0,.622.621,3.6,3.6,0,0,0,1.263-.544A3.108,3.108,0,0,0,23.008,23.939Z\",\n    fill: \"#aa7c65\"\n  })), /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: 22.764,\n    cy: 26.262,\n    fill: \"none\",\n    rx: 3.276,\n    ry: 2.906,\n    stroke: \"#231f20\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    transform: \"translate(-10.849 17.426) rotate(-34.352)\"\n  })), /*#__PURE__*/React.createElement(\"line\", {\n    fill: \"none\",\n    stroke: \"#231f20\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    x1: 20.059,\n    x2: 8.42,\n    y1: 28.11,\n    y2: 36.066\n  })))));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgDrum, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/drum.118683c5.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgArrow = function SvgArrow(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 32 32\",\n    width: 24,\n    height: 24,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    \"data-name\": \"Layer 2\",\n    id: \"Layer_2\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22,9a1,1,0,0,0,0,1.42l4.6,4.6H3.06a1,1,0,1,0,0,2H26.58L22,21.59A1,1,0,0,0,22,23a1,1,0,0,0,1.41,0l6.36-6.36a.88.88,0,0,0,0-1.27L23.42,9A1,1,0,0,0,22,9Z\"\n  }))));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrow, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow.e0c801a2.svg\";\nexport { ForwardRef as ReactComponent };","/** @jsx jsx */\r\nimport { ComponentPropsWithoutRef, FC } from 'react'\r\nimport { jsx, css } from '@emotion/react'\r\nimport { ReactComponent as HamburgerIcon } from '../assets/icons/hamburger.svg'\r\nimport { ReactComponent as SearchIcon } from '../assets/icons/search.svg'\r\nimport { ReactComponent as AddIcon } from '../assets/icons/add.svg'\r\nimport { ReactComponent as CloseIcon } from '../assets/icons/close.svg'\r\nimport { ReactComponent as ExclamationIcon } from '../assets/icons/exclamation.svg'\r\nimport { ReactComponent as UnfoldIcon } from '../assets/icons/unfold.svg'\r\nimport { ReactComponent as DrumIcon } from '../assets/icons/drum.svg'\r\nimport { ReactComponent as ArrowIcon } from '../assets/icons/arrow.svg'\r\n\r\nexport const colors = {\r\n  red: '#ED3C19',\r\n\r\n  orange: '#D95D39',\r\n  orangeDark: '#AB3F21',\r\n  orangeLight: '#DE7254',\r\n\r\n  yellow: '#F9C926',\r\n  yellowDark: '#DBA906',\r\n  yellowLight: '#FBD760',\r\n\r\n  green: '#2E8269',\r\n  greenDark: '#205A4A',\r\n  greenLight: '#35977A',\r\n  greenLighter: '#69A197',\r\n\r\n  white: '#F1FAEA',\r\n  black: '#1B1B1A',\r\n  grayLighter: '#D0DCDB',\r\n  grayLight: '#7DA19E',\r\n  gray: '#455F5D',\r\n  grayDark: '#2B3B3A',\r\n  darken: color =>\r\n    colors[`${Object.keys(colors).find(key => colors[key] === color)}Dark`] ||\r\n    color,\r\n  lighten: color =>\r\n    colors[`${Object.keys(colors).find(key => colors[key] === color)}Light`] ||\r\n    color,\r\n}\r\n\r\nexport const Icons = {\r\n  Hamburger: ({ color = colors.white, ...rest }) => (\r\n    <HamburgerIcon\r\n      css={css`\r\n        fill: ${color};\r\n      `}\r\n      {...rest}\r\n    />\r\n  ),\r\n  Search: ({ color = colors.white, ...rest }) => (\r\n    <SearchIcon\r\n      css={css`\r\n        fill: ${color};\r\n      `}\r\n      {...rest}\r\n    />\r\n  ),\r\n  Add: ({ color = colors.white, ...rest }) => (\r\n    <AddIcon\r\n      css={css`\r\n        fill: ${color};\r\n      `}\r\n      {...rest}\r\n    />\r\n  ),\r\n  Close: ({ color = colors.white }) => (\r\n    <CloseIcon\r\n      css={css`\r\n        fill: ${color};\r\n      `}\r\n    />\r\n  ),\r\n  Exclamation: ({ color = colors.red, ...rest }) => (\r\n    <ExclamationIcon\r\n      css={css`\r\n        fill: ${color};\r\n      `}\r\n      {...rest}\r\n    />\r\n  ),\r\n  Unfold: ({ color = colors.white, ...rest }) => (\r\n    <UnfoldIcon\r\n      css={css`\r\n        fill: ${color};\r\n      `}\r\n      {...rest}\r\n    />\r\n  ),\r\n  Drum: () => <DrumIcon />,\r\n  Arrow: ({\r\n    color = colors.white,\r\n    right = false,\r\n    up = false,\r\n    down = false,\r\n    ...rest\r\n  }) => (\r\n    <ArrowIcon\r\n      css={css`\r\n        transform: rotate(\r\n          ${Number(up) * 90 + Number(right) * 180 + Number(down) * 270}deg\r\n        );\r\n        fill: ${color};\r\n      `}\r\n      {...rest}\r\n    />\r\n  ),\r\n}\r\n\r\nexport const themeProps = {\r\n  headerHeight: '56px',\r\n}\r\n\r\nexport const BottomContent = ({ visible, onClose, children, ...props }) => (\r\n  <section\r\n    css={css`\r\n    position: fixed;\r\n    bottom: ${visible ? 0 : '-100px'};\r\n    opacity: ${visible ? 1 : 0};\r\n    visibility ${visible ? 'visible' : 'hidden'};\r\n    transition: bottom 200ms ease-out, opacity 100ms ease-out, visibility 200ms linear;\r\n    left: 0;\r\n    right: 0;\r\n  `}\r\n    {...props}\r\n  >\r\n    <Button\r\n      onClick={onClose}\r\n      css={css`\r\n        border-bottom: 2px solid #000;\r\n        position: absolute;\r\n        right: 0;\r\n        left: 0;\r\n        transition: backdrop-filter 200ms ease-out 150ms;\r\n        backdrop-filter: brightness(${visible ? 0.5 : 0})\r\n          grayscale(${visible ? 0.4 : 0}) blur(${visible ? 4 : 0}px)\r\n          opacity(${visible ? 1 : 0});\r\n        bottom: 100%;\r\n        height: 100vh;\r\n        width: 100%;\r\n      `}\r\n    />\r\n    {children}\r\n  </section>\r\n)\r\n\r\nconst Row = ({\r\n  align = '',\r\n  valign = '',\r\n  wide = false,\r\n  wrap = false,\r\n  grow = '',\r\n  ...props\r\n}) => (\r\n  <div\r\n    css={css`\r\n      display: flex;\r\n      justify-content: ${align || 'space-between'};\r\n      align-items: ${valign || 'flex-start'};\r\n      ${grow && `flex-grow: ${grow};`}\r\n      width: ${wide ? '100%' : 'auto'};\r\n      ${wrap && 'flex-wrap: wrap;'}\r\n    `}\r\n    {...props}\r\n  />\r\n)\r\n\r\ntype TCol = {\r\n  align?: string\r\n  valign?: string\r\n}\r\n\r\nconst Col: FC<TCol> = ({ align, valign, ...props }) => (\r\n  <div\r\n    css={css`\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: ${valign || 'flex-start'};\r\n      align-items: ${align || 'flex-start'};\r\n    `}\r\n    {...props}\r\n  />\r\n)\r\n\r\nexport const Flex = {\r\n  Row,\r\n  Col,\r\n}\r\n\r\nexport const Theme = props => (\r\n  <div\r\n    css={css`\r\n      font-family: 'Consolas';\r\n      -webkit-font-smoothing: antialiased;\r\n      -moz-osx-font-smoothing: grayscale;\r\n      color: ${colors.black};\r\n      width: 100%;\r\n      padding: 0;\r\n      margin: 0 auto;\r\n      position: relative;\r\n\r\n      p,\r\n      button,\r\n      a,\r\n      label,\r\n      span,\r\n      div,\r\n      h1,\r\n      h2,\r\n      h3,\r\n      h4,\r\n      h5 {\r\n        font-family: 'Consolas';\r\n      }\r\n\r\n      main {\r\n        padding: 24px 0 48px;\r\n\r\n        @media (min-width: 768px) {\r\n          padding: 64px 0 48px;\r\n        }\r\n      }\r\n\r\n      header {\r\n        position: fixed;\r\n        bottom: 0;\r\n        left: 0;\r\n        right: 0;\r\n        display: flex;\r\n        justify-content: center;\r\n        z-index: 999;\r\n\r\n        @media (min-width: 768px) {\r\n          top: 0;\r\n          bottom: unset;\r\n        }\r\n      }\r\n\r\n      div {\r\n        box-sizing: border-box;\r\n      }\r\n\r\n      label {\r\n        display: inline-flex;\r\n        flex-direction: column;\r\n        color: ${colors.grayLight};\r\n\r\n        span:first-of-type {\r\n          min-height: 19px;\r\n        }\r\n      }\r\n\r\n      textarea,\r\n      input {\r\n        background: ${colors.grayDark};\r\n        color: ${colors.grayLighter};\r\n        border-radius: 4px;\r\n        border: 2px solid ${colors.grayLight};\r\n        padding: 8px;\r\n        min-width: 24px;\r\n        font: 700 24px Consolas;\r\n        line-height: 36px;\r\n\r\n        &::placeholder {\r\n          color: ${colors.gray};\r\n          font-weight: 400;\r\n        }\r\n\r\n        &:focus {\r\n          outline: ${colors.yellowDark} auto 1px;\r\n        }\r\n      }\r\n\r\n      input {\r\n        height: 24px;\r\n      }\r\n\r\n      input:disabled {\r\n        color: ${colors.grayLight};\r\n      }\r\n\r\n      .InputDisabled {\r\n        background: ${colors.gray};\r\n        opacity: 0.8;\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n        left: 0;\r\n        top: 0;\r\n      }\r\n\r\n      input[type='checkbox'] {\r\n        width: 24px;\r\n        height: 24px;\r\n      }\r\n\r\n      p {\r\n        font-size: 18px;\r\n        line-height: 24px;\r\n        letter-spacing: -0.6px;\r\n        font-weight: 300;\r\n        margin: 0 0 12px;\r\n        color: ${colors.grayLighter};\r\n      }\r\n\r\n      a {\r\n        cursor: pointer;\r\n      }\r\n    `}\r\n    {...props}\r\n  />\r\n)\r\n\r\nexport const Checkbox: FC<{\r\n  checked: boolean\r\n  onClick(): void\r\n  ariaLabel: string\r\n  className?: string\r\n  disabled: boolean\r\n}> = ({ checked, onClick, children, ariaLabel, className, disabled }) => (\r\n  <Button\r\n    ninja\r\n    aria-label={ariaLabel}\r\n    role=\"checkbox\"\r\n    onClick={onClick}\r\n    css={css`\r\n      align-items: center;\r\n    `}\r\n    disabled={disabled}\r\n  >\r\n    <div\r\n      css={css`\r\n        border-radius: 50%;\r\n        border: 2px solid ${colors.yellow};\r\n        width: 24px;\r\n        height: 24px;\r\n        margin-right: 16px;\r\n        position: relative;\r\n\r\n        ${checked &&\r\n        `\r\n          :after {\r\n            background: ${colors.yellow};\r\n            position: absolute;\r\n            margin: 3px;\r\n            top: 0;\r\n            left: 0;\r\n            content: '';\r\n            border-radius: 50%;\r\n            height: 14px;\r\n            width: 14px;\r\n          }\r\n        `}\r\n        @media (min-width: 768px) {\r\n          :hover {\r\n            border-color: ${colors.grayLight};\r\n          }\r\n        }\r\n\r\n        ${disabled &&\r\n        `\r\n        cursor: arrow;\r\n        border-color: ${colors.grayLight} !important;\r\n        :after{\r\n           background: ${colors.grayLight} !important;\r\n        }\r\n        `}\r\n      `}\r\n      className={className}\r\n    />\r\n    {children}\r\n  </Button>\r\n)\r\n\r\ntype ButtonProps = {\r\n  filled?: boolean\r\n  ninja?: boolean\r\n} & ComponentPropsWithoutRef<'button'>\r\n\r\nexport const Button: FC<ButtonProps> = ({ filled, ninja, ...rest }) =>\r\n  ninja ? (\r\n    <button\r\n      css={css`\r\n        background: none;\r\n        border: none;\r\n        display: flex;\r\n        margin: 0;\r\n        padding: 0;\r\n        ${!rest.disabled && 'cursor: pointer;'}\r\n        color: ${colors.white};\r\n      `}\r\n      {...rest}\r\n    />\r\n  ) : (\r\n    <button\r\n      css={css`      \r\n    border-radius: 4px;\r\n    border: ${\r\n      filled\r\n        ? `1px solid ${colors.yellowLight}`\r\n        : `1px solid ${colors.grayLight}`\r\n    };\r\n    font: 500 24px Consolas;\r\n    line-height: 36px;\r\n    background: ${filled ? colors.yellowLight : 'none'};\r\n    font-weight: 700;\r\n    outline: none;\r\n    display: flex;\r\n    justify-content: center;\r\n    padding: 3px 16px;\r\n    ${!rest.disabled && 'cursor: pointer;'}\r\n\r\n    :hover {\r\n      background ${filled ? colors.yellow : colors.black + '44'}\r\n    }\r\n\r\n    ${\r\n      rest.disabled &&\r\n      `\r\n      background: ${filled ? colors.gray : 'none'};\r\n      border-color: ${colors.gray};\r\n    `\r\n    }\r\n  `}\r\n      {...rest}\r\n    />\r\n  )\r\n\r\nexport const H3 = props => (\r\n  <h3\r\n    css={css`\r\n      color: ${colors.gray};\r\n      text-transform: uppercase;\r\n      letter-spacing: 1.5px;\r\n      font-size: 18px;\r\n      line-height: 36px;\r\n      margin: 24px 0 6px;\r\n    `}\r\n    {...props}\r\n  />\r\n)\r\n\r\nexport const AnchorLink = props => (\r\n  // eslint-disable-next-line\r\n  <div\r\n    css={css`\r\n      cursor: pointer;\r\n      display: inline-block;\r\n      color: ${colors.white};\r\n      transition: transform 100ms ease-out;\r\n      text-decoration: none;\r\n      padding: 0 0 2px;\r\n      border-bottom: 2px solid ${colors.red};\r\n\r\n      *:active,\r\n      :active {\r\n        transform: scaleX(0.97);\r\n      }\r\n    `}\r\n    {...props}\r\n  />\r\n)\r\n\r\nexport const FAB = ({ top, ...rest }) => (\r\n  <Button\r\n    css={css`\r\n      cursor: pointer;\r\n      z-index: 1000;\r\n      border-radius: 50%;\r\n      position: absolute;\r\n      ${top ? 'top' : 'bottom'}: 12px;\r\n      right: 20px;\r\n      display: flex;\r\n      padding: 8px;\r\n      margin: 0;\r\n      background: ${colors.black};\r\n      border: 1px solid ${colors.gray};\r\n      box-shadow: 0 0 4px 0 ${colors.grayDark};\r\n      transition: transform 100ms ease-out, background 100ms ease-out;\r\n\r\n      > svg {\r\n        width: 32px;\r\n        height: 32px;\r\n      }\r\n\r\n      :hover {\r\n        background: ${colors.greenDark};\r\n      }\r\n\r\n      > {\r\n        transition: transform 100ms ease-out;\r\n      }\r\n\r\n      :active,\r\n      > :active {\r\n        transform: scale(0.97);\r\n      }\r\n    `}\r\n    {...rest}\r\n  />\r\n)\r\n","/** @jsx jsx */\r\n/** @jsxFrag */\r\nimport React, { FC } from 'react'\r\nimport { jsx, css } from '@emotion/react'\r\nimport { H3 } from '../theme'\r\nimport { ListItem, SnippetDetails, TDrummery } from './'\r\n\r\nconst Wrapper = props => (\r\n  <div\r\n    css={css`\r\n      display: flex;\r\n      align-items: flex-start;\r\n      padding: 0 8px;\r\n      width: 100%;\r\n      max-width: 1392px;\r\n      margin: 0 auto;\r\n\r\n      @media (min-width: 768px) {\r\n        padding: 12px 8px 0;\r\n      }\r\n    `}\r\n    {...props}\r\n  />\r\n)\r\n\r\nconst ListWrapper = props => (\r\n  <div\r\n    css={css`\r\n      display: flex;\r\n      flex-direction: column;\r\n      padding: 0 8px;\r\n      width: 100%;\r\n\r\n      @media (min-width: 768px) {\r\n        width: 40%;\r\n      }\r\n\r\n      @media (min-width: 1024px) {\r\n        width: 50%;\r\n      }\r\n    `}\r\n    {...props}\r\n  />\r\n)\r\n\r\nexport const Drummery: FC<TDrummery> = ({ useDrummeryContext }) => {\r\n  const {\r\n    items,\r\n    featuredItem,\r\n    previewItem,\r\n    setPreviewId,\r\n    setSearchTerm,\r\n    meta: { loading },\r\n  } = useDrummeryContext()\r\n  const placeholders = [...Array(9)].map((_, index) => ({ id: `p-${index}` }))\r\n  return (\r\n    <Wrapper>\r\n      <ListWrapper>\r\n        {featuredItem && (\r\n          <>\r\n            <H3>Recently added</H3>\r\n            <ListItem featured\r\n              {...{\r\n                key: featuredItem.id,\r\n                item: featuredItem,\r\n                onClick: () =>\r\n                  setPreviewId(featuredItem.id === previewItem?.id ? null : featuredItem.id),\r\n              }}\r\n            />\r\n          </>\r\n        )}\r\n        <H3>All rhythms</H3>\r\n        {(items.length ? items : placeholders).map(\r\n          snippet => (\r\n            <ListItem\r\n              {...{\r\n                key: snippet.id,\r\n                item: snippet,\r\n                loading,\r\n                onClick: () =>\r\n                  setPreviewId(snippet.id === previewItem?.id ? null : snippet.id),\r\n                selected: snippet.id === previewItem?.id,\r\n              }}\r\n            />\r\n          )\r\n        )}\r\n      </ListWrapper>\r\n      {previewItem && (\r\n        <SnippetDetails\r\n          onClose={() => setPreviewId(null)}\r\n          item={previewItem}\r\n          onTagClick={setSearchTerm}\r\n        />\r\n      )}\r\n    </Wrapper>\r\n  )\r\n}\r\n","/** @jsx jsx */\r\nimport { FC } from 'react'\r\nimport { jsx, css } from '@emotion/react'\r\nimport { colors } from '../theme'\r\n\r\nexport type Props = {\r\n  tags: string[]\r\n  dimmed?: boolean\r\n  onClick(tag: string): void\r\n}\r\n\r\nexport const Tags: FC<Props> = ({ tags, dimmed, onClick }) =>\r\n  tags?.length ? (\r\n    <ul\r\n      css={css`\r\n        list-style: none;\r\n        margin: 0 -4px;\r\n        padding: 0;\r\n        display: flex;\r\n        align-items: center;\r\n        flex-wrap: wrap;\r\n\r\n        ${dimmed &&\r\n        `\r\n        height: 30px;\r\n        overflow: hidden;\r\n      `}\r\n      `}\r\n    >\r\n      {tags.map(tag => (\r\n        <li\r\n          role={dimmed ? 'list-item' : 'button'}\r\n          aria-label={tag}\r\n          onClick={() => (dimmed ? null : onClick(tag))}\r\n          key={tag}\r\n          css={css`\r\n            ${!dimmed && 'cursor: pointer'};\r\n            margin: 0 4px 8px;\r\n            color: ${dimmed ? colors.grayLight : colors.black};\r\n            padding: 3px 6px;\r\n            background: ${dimmed ? 'transparent' : colors.yellowLight};\r\n            border: 1px solid ${dimmed ? colors.grayDark : colors.yellowLight}66;\r\n            ${!dimmed && 'font-weight: 700'};\r\n            text-shadow: 0 0 4px ${colors.gray}44;\r\n            box-shadow: 0 0 4px 0 ${colors.gray}44;\r\n            border-radius: 4px;\r\n            font-size: 14px;\r\n            line-height: 14px;\r\n\r\n            ${!dimmed &&\r\n            `:hover {\r\n              background: ${colors.yellow};\r\n            }`}\r\n          `}\r\n        >\r\n          {tag}\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  ) : null\r\n","/** @jsx jsx */\r\nimport { FC } from 'react'\r\nimport { jsx, css } from '@emotion/react'\r\nimport { colors, Button, Flex } from '../theme'\r\nimport type { TDrumSnippet } from '../../StateManager'\r\nimport { Tags } from './Tags'\r\n\r\nconst Wrapper = ({ onClick, selected, loading, featured, ...rest }) => {\r\n  return (\r\n    <Button\r\n      ninja\r\n      onClick={onClick}\r\n      css={css`\r\n        color: ${colors.grayLighter};\r\n        margin: 0 0 12px;\r\n        border-radius: 4px;\r\n        line-height: 14px;\r\n        position: relative;\r\n        height: min-content;\r\n        width: 100%;\r\n        min-width: 240px;\r\n        ${loading && 'pointer-events: none;'}\r\n        background: ${\r\n          featured\r\n            ? colors.yellow + '0B'\r\n            : loading\r\n            ? colors.gray + '22'\r\n            : selected\r\n            ? colors.gray\r\n            : colors.gray + '44'\r\n        };\r\n        ${featured && `box-shadow: 0 0 3px ${colors.yellow}BB;`}\r\n        padding: 12px 8px;\r\n        border: 2px solid ${loading ? colors.gray + '44' : colors.gray + '66'};\r\n        transition: transform 150ms ease-out;\r\n\r\n        ${selected && `transform: scale(1.03);`}\r\n\r\n        :hover {\r\n          background: ${colors.gray}cc;\r\n        }\r\n      `}\r\n      {...rest}\r\n    />\r\n  )\r\n}\r\n\r\nconst Title = props => (\r\n  // eslint-disable-next-line jsx-a11y/heading-has-content\r\n  <h4\r\n    css={css`\r\n      margin: 8px 8px 0;\r\n      font-size: 18px;\r\n      line-height: 24px;\r\n      text-align: left;\r\n      text-transform: uppercase;\r\n      letter-spacing: 0.5px;\r\n      text-shadow: 0 0 4px ${colors.black}88;\r\n    `}\r\n    {...props}\r\n  />\r\n)\r\n\r\nconst Placeholder = () => (\r\n  <div\r\n    css={css`\r\n      height: 90px;\r\n      width: 100%;\r\n    `}\r\n  />\r\n)\r\n\r\nexport type Props = {\r\n  item: TDrumSnippet\r\n  loading?: boolean\r\n  onClick?(): void\r\n  selected?: boolean\r\n  featured?: boolean\r\n}\r\n\r\nexport const ListItem: FC<Props> = ({\r\n  featured = false,\r\n  item: { title, tags },\r\n  loading = false,\r\n  onClick,\r\n  selected = false,\r\n}) => (\r\n  <Wrapper {...{ onClick, loading, selected, featured }}>\r\n    {loading ? (\r\n      <Placeholder />\r\n    ) : (\r\n      <Flex.Col>\r\n        <Tags dimmed tags={tags} />\r\n        <Title>{title}</Title>\r\n      </Flex.Col>\r\n    )}\r\n  </Wrapper>\r\n)\r\n","/** @jsx jsx */\r\nimport { FC } from 'react'\r\nimport { jsx, css } from '@emotion/react'\r\nimport { Flex, Button, Checkbox } from '../theme'\r\n\r\nexport const PlayerControls: FC = ({\r\n  playLoop,\r\n  stopLoop,\r\n  metronome,\r\n  setMetronome,\r\n  tempo,\r\n  setTempo,\r\n  disabled,\r\n}) => (\r\n  <Flex.Row\r\n    align=\"flex-start\"\r\n    wrap\r\n    css={css`\r\n      margin: 24px 16px 0;\r\n\r\n      @media (min-width: 768px) {\r\n        margin: 24px 32px 0;\r\n        justify-content: space-between;\r\n      }\r\n\r\n      > * {\r\n        margin-bottom: 24px;\r\n      }\r\n    `}\r\n  >\r\n    <Flex.Row>\r\n      <Button filled onClick={playLoop} disabled={disabled}>\r\n        Play\r\n      </Button>\r\n      <Button\r\n        filled\r\n        onClick={stopLoop}\r\n        css={css`\r\n          margin: 0 64px 0 8px;\r\n        `}\r\n        disabled={disabled}\r\n      >\r\n        Stop\r\n      </Button>\r\n    </Flex.Row>\r\n\r\n    <Flex.Row>\r\n      <input\r\n        type=\"text\"\r\n        maxLength={3}\r\n        value={tempo}\r\n        disabled={disabled}\r\n        css={css`\r\n          width: 44px;\r\n        `}\r\n        onChange={e => {\r\n          const value = Number(e.target.value)\r\n          if (isNaN(value)) return\r\n\r\n          setTempo(value)\r\n        }}\r\n      />\r\n      <span\r\n        css={css`\r\n          align-self: flex-end;\r\n          font-size: 24px;\r\n          line-height: 44px;\r\n          margin-left: 8px;\r\n        `}\r\n      >\r\n        BPM\r\n      </span>\r\n    </Flex.Row>\r\n\r\n    <Checkbox\r\n      checked={metronome}\r\n      disabled={disabled}\r\n      onClick={() => setMetronome(!metronome)}\r\n      css={css`\r\n        margin: 0 8px 0 16px;\r\n      `}\r\n    >\r\n      <label\r\n        css={css`\r\n          align-self: flex-end;\r\n          font-size: 24px;\r\n          line-height: 44px;\r\n          margin-right: 0 !important;\r\n        `}\r\n      >\r\n        metronome\r\n      </label>\r\n    </Checkbox>\r\n  </Flex.Row>\r\n)\r\n","/** @jsx jsx */\r\nimport { FC } from 'react'\r\nimport { jsx, css } from '@emotion/react'\r\nimport { colors, Flex, Checkbox } from '../theme'\r\n\r\nexport const Track: FC = ({ title, pattern, muted, setMuted }) => (\r\n  <div\r\n    css={css`\r\n      padding: 18px 16px 24px;\r\n      border-bottom: 2px solid ${colors.grayLight}44;\r\n      width: 100%;\r\n\r\n      @media (min-width: 1024px) {\r\n        padding: 24px 16px;\r\n      }\r\n\r\n      @media (min-width: 1024px) {\r\n        padding: 24px;\r\n      }\r\n    `}\r\n  >\r\n    <Flex.Row\r\n      align=\"flex-start\"\r\n      valign=\"center\"\r\n      css={css`\r\n        margin-bottom: 8px;\r\n      `}\r\n    >\r\n      <Checkbox\r\n        ariaLabel={`${title} track ${muted ? 'off' : 'on'}`}\r\n        onClick={() => setMuted(!muted)}\r\n        checked={!muted}\r\n        disabled={!pattern}\r\n      />\r\n      <div\r\n        css={css`\r\n          color: ${colors.gray};\r\n        `}\r\n      >\r\n        {title}\r\n      </div>\r\n    </Flex.Row>\r\n    {pattern ? (\r\n      <Pattern pattern={pattern} />\r\n    ) : (\r\n      <div\r\n        css={css`\r\n          height: 72px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: ${colors.gray};\r\n          @media (min-width: 768px) {\r\n            height: 48px;\r\n          }\r\n        `}\r\n      >...</div>\r\n    )}\r\n  </div>\r\n)\r\n\r\nconst Pattern = ({ pattern }) => {\r\n  let barSize = pattern.length\r\n  if (pattern.length % 6 === 0) barSize = 6\r\n  else if (pattern.length % 8 === 0) barSize = 8\r\n  else if (pattern.length % 9 === 0) barSize = 9\r\n\r\n  const bars = `|${pattern?.match(RegExp(`.{1,${barSize}}`, 'g'))?.join('|')}|`\r\n\r\n  return (\r\n    <div\r\n      css={css`\r\n        height: 48px;\r\n        font-size: 24px;\r\n        line-height: 36px;\r\n        max-width: 252px;\r\n\r\n        @media (min-width: 768px) {\r\n          font-size: 22px;\r\n          max-width: 452px;\r\n          line-height: 48px;\r\n        }\r\n\r\n        @media (min-width: 1440px) {\r\n          font-size: 40px;\r\n          line-height: 48px;\r\n          max-width: 816px;\r\n        }\r\n      `}\r\n    >\r\n      {bars}\r\n    </div>\r\n  )\r\n}\r\n","import { useState, useEffect } from 'react'\r\n\r\nimport {\r\n  useMidiSounds,\r\n  bell,\r\n  sangban,\r\n  sangbanClosed,\r\n  shaker,\r\n  dundunbaOpen,\r\n  dundunbaClosed,\r\n  kenkeniOpen,\r\n  kenkeniClosed,\r\n  kenkeniOpen2,\r\n  kenkeniClosed2,\r\n} from '../MidiSounds/MidiSounds'\r\n\r\nexport const useGroovyPlayer: TGroovyPlayerHook = ({\r\n  tracks = [],\r\n  initialMetronome = true,\r\n  initialTempo = 110,\r\n}) => {\r\n  const midiSounds = useMidiSounds()\r\n  const [tempo, setTempo] = useState(initialTempo)\r\n  const [muted, setMuted] = useState({})\r\n  const [metronome, setMetronome] = useState(initialMetronome)\r\n  const [playing, setPlaying] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (tempo !== initialTempo) setTempo(initialTempo)\r\n    if (metronome !== initialMetronome) setMetronome(initialMetronome)\r\n    if (muted !== {}) setMuted({})\r\n    \r\n    if (tracks.length === 0) stopLoop()\r\n    else if (playing) playLoop()\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [tracks])\r\n\r\n  useEffect(() => {\r\n    if (playing && tempo >= 40 && tempo <= 200) {\r\n      playLoop()\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [tempo, muted, metronome])\r\n\r\n  const loopLength = tracks.sort(byPatternLength)[0]?.pattern?.length ?? 0\r\n\r\n  const beatSize = loopLength % 3 === 0 ? 3 : 4\r\n\r\n  const parse = (instrument: string, sound: string = 'x') => {\r\n    const pattern =\r\n      tracks.find(t => t.instrument === instrument)?.pattern ?? null\r\n\r\n    if (!pattern) return []\r\n\r\n    const prolongedPattern = pattern.repeat(loopLength / pattern.length)\r\n    const result: boolean[] = []\r\n    for (let i = 0; i < prolongedPattern.length; i = i + 1) {\r\n      result.push(prolongedPattern[i] === sound)\r\n    }\r\n\r\n    return result\r\n  }\r\n\r\n  const generateMetronome = () =>\r\n    [...Array(loopLength)].map((_, index) => index % beatSize === 0)\r\n\r\n  const loops = [\r\n    !muted['bell'] && parse('bell'),\r\n    !muted['sangban'] && parse('sangban', 'o'),\r\n    !muted['sangban'] && parse('sangban', 'x'),\r\n    metronome && generateMetronome(),\r\n    !muted['dundunba'] && parse('dundunba', 'o'),\r\n    !muted['dundunba'] && parse('dundunba', 'x'),\r\n    !muted['kenkeni'] && parse('kenkeni', 'o'),\r\n    !muted['kenkeni'] && parse('kenkeni', 'x'),\r\n    !muted['kenkeni2'] && parse('kenkeni2', 'o'),\r\n    !muted['kenkeni2'] && parse('kenkeni2', 'x'),\r\n  ]\r\n\r\n  const playLoop = () => {\r\n    const beats = fillBeat(loops, loopLength)\r\n    midiSounds.current?.setEchoLevel(0.05)\r\n    midiSounds.current?.startPlayLoop(beats, (beatSize / 4) * tempo, 1 / 16)\r\n    setPlaying(true)\r\n  }\r\n\r\n  const stopLoop = () => {\r\n    midiSounds.current?.stopPlayLoop()\r\n    setPlaying(false)\r\n  }\r\n\r\n  return {\r\n    playLoop,\r\n    stopLoop,\r\n    metronome,\r\n    setMetronome,\r\n    tempo,\r\n    setTempo,\r\n    muted,\r\n    setMuted,\r\n    loopLength,\r\n  }\r\n}\r\n\r\nconst byPatternLength = (t1: TTrack, t2: TTrack) =>\r\n  (t2.pattern?.length ?? 0) - (t1.pattern?.length ?? 0)\r\n\r\nconst drums = [\r\n  bell,\r\n  sangban,\r\n  sangbanClosed,\r\n  shaker,\r\n  dundunbaOpen,\r\n  dundunbaClosed,\r\n  kenkeniOpen,\r\n  kenkeniClosed,\r\n  kenkeniOpen2,\r\n  kenkeniClosed2,\r\n]\r\n\r\nconst fillBeat = (tracks, length) => {\r\n  const beats: number[][][] = []\r\n  for (var i = 0; i < length; i++) {\r\n    let notes: number[] = []\r\n    // eslint-disable-next-line no-loop-func\r\n    drums.forEach((drum, index) => {\r\n      if (tracks[index] && tracks[index][i]) notes.push(drum)\r\n    })\r\n    beats.push([notes, []])\r\n  }\r\n\r\n  return beats\r\n}\r\n\r\nexport type TTrack = {\r\n  title: string\r\n  pattern: string\r\n  instrument: string\r\n}\r\n\r\nexport type TGroovyPlayerContext = {\r\n  playLoop(): void\r\n  stopLoop(): void\r\n  metronome: boolean\r\n  setMetronome(arg: boolean): void\r\n  tempo: number\r\n  setTempo(arg: number): void\r\n  muted: Record<string, boolean>[]\r\n  setMuted(arg: Record<string, boolean>[]): void\r\n  loopLength: number\r\n}\r\n\r\nexport type TGroovyPlayerHook = (props: {\r\n  tracks: TTrack[]\r\n  initialMetronome: boolean\r\n  initialTempo: number\r\n}) => TGroovyPlayerContext\r\n","/** @jsx jsx */\r\nimport { FC } from 'react'\r\nimport { jsx, css } from '@emotion/react'\r\nimport { colors, Flex } from '../theme'\r\n\r\nimport { PlayerControls } from './PlayerControls'\r\nimport { Track } from './Track'\r\nimport { useGroovyPlayer, TTrack } from './useGroovyPlayer'\r\n\r\nexport type Props = {\r\n  metronome: boolean\r\n  tracks: TTrack[]\r\n}\r\n\r\nexport const GroovyPlayer: FC<Props> = ({\r\n  tracks,\r\n  metronome: initialMetronome = true,\r\n  tempo: initialTempo = 110,\r\n}) => {\r\n  const {\r\n    playLoop,\r\n    stopLoop,\r\n    tempo,\r\n    setTempo,\r\n    muted,\r\n    setMuted,\r\n    metronome,\r\n    setMetronome,\r\n    loopLength,\r\n  } = useGroovyPlayer({ tracks, initialMetronome, initialTempo })\r\n  return (\r\n    <Wrapper>\r\n      {tracks.length\r\n        ? tracks.map(({ title, instrument, pattern }, index) => (\r\n            <Track\r\n              {...{\r\n                key: `${title}${instrument}${index}`,\r\n                title,\r\n                pattern: pattern?.repeat(loopLength / pattern.length),\r\n                muted: muted[instrument],\r\n                setMuted: value => setMuted({ ...muted, [instrument]: value }),\r\n              }}\r\n            />\r\n          ))\r\n        : [...Array(3)].map((_, i) => (\r\n            <Track key={`track-${i}`} />\r\n          ))}\r\n\r\n      <PlayerControls\r\n        {...{\r\n          playLoop,\r\n          stopLoop,\r\n          metronome,\r\n          setMetronome,\r\n          tempo,\r\n          setTempo,\r\n          disabled: !tracks.length,\r\n        }}\r\n      />\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = props => (\r\n  <Flex.Col\r\n    css={css`\r\n      width: 100vw;\r\n      background: ${colors.black};\r\n      color: ${colors.grayLight};\r\n      font-weight: 700;\r\n      font-size: 18px;\r\n      line-height: 24px;\r\n      margin: 0 -12px 24px;\r\n\r\n      @media (min-width: 768px) {\r\n        border-radius: 4px;\r\n        margin: 0 0 24px;\r\n        width: 100%;\r\n      }\r\n    `}\r\n    {...props}\r\n  />\r\n)\r\n","/** @jsx jsx */\r\nimport { FC } from 'react'\r\nimport { jsx, css } from '@emotion/react'\r\nimport { colors, Flex, Button, Icons } from '../theme'\r\nimport { TDrumSnippet } from '../../StateManager'\r\nimport { Tags } from './Tags'\r\n\r\nimport { GroovyPlayer } from './GroovyPlayer'\r\n\r\nexport type Props = {\r\n  item: TDrumSnippet\r\n  onClose(): void\r\n  onTagClick(tag: string): void\r\n}\r\n\r\nexport const SnippetDetails: FC<Props> = ({\r\n  onTagClick,\r\n  onClose,\r\n  item: { title, description, tags, patterns, tempo },\r\n}) => (\r\n  <Wrapper>\r\n    <BackButton onClick={onClose} />\r\n    <Tags tags={tags} onClick={onTagClick} />\r\n    <Title {...{ title }} />\r\n    <Description {...{ description }} />\r\n    <Patterns {...{ patterns, tempo }} />\r\n  </Wrapper>\r\n)\r\n\r\nconst Patterns: FC = ({ patterns, tempo }) => (\r\n  <div>\r\n    <h3\r\n      css={css`\r\n        color: ${colors.gray};\r\n        text-transform: uppercase;\r\n        letter-spacing: 1.5px;\r\n        font-size: 24px;\r\n        line-height: 48px;\r\n        margin: 24px 0 6px;\r\n      `}\r\n    >\r\n      Patterns\r\n    </h3>\r\n    <GroovyPlayer tracks={patterns} tempo={tempo} />\r\n  </div>\r\n)\r\n\r\nconst Wrapper: FC = ({ children, ...props }) => (\r\n  <Flex.Col\r\n    valign=\"center\"\r\n    css={css`\r\n      color: ${colors.black};\r\n      padding: 0;\r\n      font-size: 12px;\r\n      line-height: 14px;\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      align-items: center;\r\n      width: 100%;\r\n\r\n      @media (min-width: 768px) {\r\n        margin: 0 0 0 8px;\r\n      }\r\n\r\n      @media (min-width: 1024px) {\r\n        margin: 0 16px 0 24px;\r\n      }\r\n\r\n      @media (min-width: 1440px) {\r\n        margin: 0 16px 0 40px;\r\n      }\r\n    `}\r\n    {...props}\r\n  >\r\n    <Flex.Col\r\n      css={css`\r\n        background: ${colors.grayDark};\r\n        width: 100%;\r\n\r\n        @media (max-width: 767px) {\r\n          position: fixed;\r\n          top: 0;\r\n          left: 0;\r\n          width: 100vw;\r\n          height: 100vh;\r\n          padding: 24px 12px;\r\n          overflow-y: auto;\r\n        }\r\n      `}\r\n    >\r\n      {children}\r\n    </Flex.Col>\r\n  </Flex.Col>\r\n)\r\n\r\nconst Title = ({ title }) =>\r\n  title ? (\r\n    <h2\r\n      css={css`\r\n        margin: 0;\r\n        padding: 0;\r\n        font-size: 32px;\r\n        line-height: 1.5;\r\n        color: ${colors.white};\r\n        text-transform: uppercase;\r\n        letter-spacing: 0.8px;\r\n        text-shadow: 0 0 4px ${colors.black}88;\r\n\r\n        @media (min-width: 768px) {\r\n          font-size: 40px;\r\n          letter-spacing: 1.4px;\r\n        }\r\n      `}\r\n    >\r\n      {title}\r\n    </h2>\r\n  ) : null\r\n\r\nconst Description = ({ description }) =>\r\n  description ? (\r\n    <p\r\n      css={css`\r\n        text-align: left;\r\n        margin-bottom: 24px !important;\r\n      `}\r\n    >\r\n      {description}\r\n    </p>\r\n  ) : null\r\n\r\nconst BackButton = props => (\r\n  <Button\r\n    ninja\r\n    css={css`\r\n      color: ${colors.grayLighter};\r\n      margin: 0 0 24px;\r\n      padding: 12px 0;\r\n      display: flex;\r\n      align-items: center;\r\n      font-weight: 700;\r\n\r\n      @media (min-width: 768px) {\r\n        display: none;\r\n      }\r\n    `}\r\n    {...props}\r\n  >\r\n    <Icons.Arrow\r\n      right\r\n      color={colors.grayLighter}\r\n      css={css`\r\n        margin-right: 8px;\r\n      `}\r\n    />\r\n    <span\r\n      css={css`\r\n        text-transform: uppercase;\r\n      `}\r\n    >\r\n      back to list\r\n    </span>\r\n  </Button>\r\n)\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Header } from '.'\r\nimport { useStore } from '../../StateManager/Store'\r\n\r\nimport { useTimeout } from '../../helpers'\r\n\r\nconst useHeaderContext = () => {\r\n  const {\r\n    state: {\r\n      drummery: { searchTerm },\r\n    },\r\n    actions: {\r\n      drummery: { setSearchTerm },\r\n    },\r\n  } = useStore()\r\n\r\n  const [timeout, setTimeout] = useTimeout(500)\r\n  const [cachedTerm, cacheTerm] = useState(searchTerm)\r\n\r\n  const debouncedSearch = (term: string) => {\r\n    cacheTerm(term)\r\n    if (timeout) clearTimeout(timeout)\r\n    setTimeout(() => setSearchTerm(term))\r\n  }\r\n\r\n  useEffect(() => cacheTerm(searchTerm), [searchTerm])\r\n\r\n  return {\r\n    searchTerm: cachedTerm,\r\n    search: debouncedSearch,\r\n    reset: () => setSearchTerm(''),\r\n  }\r\n}\r\n\r\nexport const connectHeader = () => () => <Header {...{ useHeaderContext }} />\r\n","/** @jsx jsx */\r\nimport { jsx, css } from '@emotion/react'\r\nimport { colors, Button, Flex, Icons } from '../theme'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Wrapper = props => (\r\n  <Flex.Row\r\n    valign=\"center\"\r\n    css={css`\r\n      background: ${colors.black};\r\n      color: ${colors.white};\r\n      padding: 2px 16px;\r\n      box-shadow: 0 0 4px #000;\r\n      width: 100%;\r\n    `}\r\n    {...props}\r\n  >\r\n    <Flex.Row\r\n      wide\r\n      valign=\"center\"\r\n      css={css`\r\n        margin: 0 auto;\r\n        max-width: 1360px;\r\n      `}\r\n      {...props}\r\n    />\r\n  </Flex.Row>\r\n)\r\n\r\nconst Separator = () => (\r\n  <div\r\n    css={css`\r\n      content: '|';\r\n      color: ${colors.grayLight};\r\n      padding: 0 4px;\r\n      pointer-events: none;\r\n      cursor: normal;\r\n    `}\r\n  >\r\n    |\r\n  </div>\r\n)\r\n\r\nconst Nav = () => (\r\n  <nav\r\n    css={css`\r\n      display: inline-flex;\r\n      margin: 0;\r\n      font-size: 24px;\r\n      line-height: 1.5;\r\n      font-variant: all-small-caps;\r\n      letter-spacing: 2px;\r\n\r\n      a {\r\n        padding: 0 6px;\r\n        text-decoration: none !important;\r\n        color: ${colors.grayLight};\r\n      }\r\n\r\n      a:hover {\r\n        color: ${colors.grayLighter};\r\n      }\r\n    `}\r\n  >\r\n    <h1\r\n      css={css`\r\n        color: ${colors.orangeDark};\r\n        margin: 0;\r\n        font-size: inherit;\r\n        padding: 0 6px;\r\n      `}\r\n    >\r\n      szd\r\n    </h1>\r\n    {/* <Separator />\r\n    <Link to='/photos'>photos</Link> */}\r\n    <Separator />\r\n    <Link to=\"/drums\">drums</Link>\r\n    {/* <Separator />\r\n    <Link to='/dev'>dev</Link> */}\r\n  </nav>\r\n)\r\n\r\nconst Search = ({ term, onChange, reset }) => (\r\n  <Flex.Row valign=\"center\">\r\n    <input\r\n      type=\"text\"\r\n      maxLength={20}\r\n      placeholder=\"tag or rhythm...\"\r\n      value={term}\r\n      onChange={e => onChange(e.target.value)}\r\n      css={css`\r\n        margin: 4px 0;\r\n        border: none !important;\r\n        background: ${colors.grayDark}88 !important;\r\n        height: 16px !important;\r\n        font-size: 16px !important;\r\n        line-height: 24px !important;\r\n        padding: 4px 8px;\r\n        width: 116px;\r\n\r\n        @media (min-width: 768px) {\r\n          width: 184px;\r\n        }\r\n      `}\r\n    />\r\n    <Button\r\n      ninja\r\n      onClick={term ? reset : null}\r\n      css={css`\r\n        text-decoratio: underline;\r\n        margin: 4px;\r\n        padding: 4px;\r\n        border-radius: 50%;\r\n\r\n        :hover {\r\n          background: ${colors.grayDark}88;\r\n        }\r\n\r\n        :active {\r\n          background: ${colors.grayDark}cc;\r\n        }\r\n      `}\r\n    >\r\n      {term ? (\r\n        <Icons.Close color={colors.grayLight} />\r\n      ) : (\r\n        <Icons.Search color={colors.grayLight} />\r\n      )}\r\n    </Button>\r\n  </Flex.Row>\r\n)\r\n\r\nexport const Header = ({ useHeaderContext }) => {\r\n  const { searchTerm, search, reset } = useHeaderContext()\r\n  return (\r\n    <Wrapper>\r\n      <div\r\n        css={css`\r\n          width: 133px;\r\n          @media (max-width: 767px) {\r\n            display: none;\r\n          }\r\n        `}\r\n      />\r\n      <Search term={searchTerm} onChange={search} reset={reset} />\r\n      <Nav />\r\n    </Wrapper>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Route, HashRouter, Redirect } from 'react-router-dom'\r\nimport { DataService } from './DataService'\r\n// import { connectGallery } from './Features/Gallery'\r\nimport { connectDrummery } from './Features/Drummery'\r\nimport { connectHeader } from './Features/Header'\r\n\r\nexport const Router = () => {\r\n  const Header = connectHeader()\r\n  // const Gallery = connectGallery({ DataService })\r\n  const Drummery = connectDrummery({ DataService })\r\n  // const Dev = () => <p style={{ color: 'white' }}>Dev...</p>\r\n\r\n  return (\r\n    <HashRouter basename=\"/\">\r\n      <header>\r\n        <Header />\r\n      </header>\r\n      <main>\r\n        {/* <Route path='/photos' component={Gallery} /> */}\r\n        <Route path=\"/drums\" component={Drummery} />\r\n        {/* <Route path='/dev' component={Dev} /> */}\r\n        <Redirect to=\"/drums\" />\r\n      </main>\r\n    </HashRouter>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { StateManager } from './StateManager/Store'\r\nimport { Router } from './Router'\r\nimport { Theme } from './Features/theme'\r\n\r\nexport default () => (\r\n  <StateManager>\r\n    <Theme>\r\n      <Router />\r\n    </Theme>\r\n  </StateManager>\r\n)\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}